# pymongo-api

## Как запустить

Запускаем mongodb и приложение

```shell
docker compose up -d
```

Заполняем mongodb данными

```shell
bash init.sh
```

в консоли будет выведено общее количество документов в БД и в каждом из шардов

Так же будут доступны эндпоинты приложения

## Доступные эндпоинты

Список доступных эндпоинтов, swagger http://<ip виртуальной машины>:8080/docs

## Настройка шардирования для mongo DB
- запускаем несколько экземпляров монго в зависимости от желаемого количества шардов (в данном проекте 2) + конфиг сервера (в данном проекте 1, в продуктовой среде не менее 3), роутеры по количеству шардов
- при запуске каждого инстанса задается режим в котором он будет работать
- далее выполняется инициализация всех инстансов, в данном проекте скрипты инициализации вынесены в файл init.sh